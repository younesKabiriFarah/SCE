{"remainingRequest":"/Users/yuoneskabiri/Desktop/UNI/SCE/Practica/e-commerce-vue/node_modules/babel-loader/lib/index.js!/Users/yuoneskabiri/Desktop/UNI/SCE/Practica/e-commerce-vue/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/yuoneskabiri/Desktop/UNI/SCE/Practica/e-commerce-vue/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/yuoneskabiri/Desktop/UNI/SCE/Practica/e-commerce-vue/src/views/CartPage.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/yuoneskabiri/Desktop/UNI/SCE/Practica/e-commerce-vue/src/views/CartPage.vue","mtime":1655074809532},{"path":"/Users/yuoneskabiri/Desktop/UNI/SCE/Practica/e-commerce-vue/babel.config.js","mtime":1652639069000},{"path":"/Users/yuoneskabiri/Desktop/UNI/SCE/Practica/e-commerce-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuoneskabiri/Desktop/UNI/SCE/Practica/e-commerce-vue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/yuoneskabiri/Desktop/UNI/SCE/Practica/e-commerce-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuoneskabiri/Desktop/UNI/SCE/Practica/e-commerce-vue/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy95dW9uZXNrYWJpcmkvRGVza3RvcC9VTkkvU0NFL1ByYWN0aWNhL2UtY29tbWVyY2UtdnVlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL3l1b25lc2thYmlyaS9EZXNrdG9wL1VOSS9TQ0UvUHJhY3RpY2EvZS1jb21tZXJjZS12dWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci50by1maXhlZC5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IFRoZUhlYWRlciBmcm9tICIuLi9jb21wb25lbnRzL1RoZUhlYWRlci52dWUiOwppbXBvcnQgUGF5cGFsIGZyb20gIi4vUGF5cGFsIjsKaW1wb3J0IHsgbWFwQWN0aW9ucywgbWFwR2V0dGVycywgbWFwU3RhdGUgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsgLy9Ub2FzdAoKaW1wb3J0IHsgdXNlVG9hc3QgfSBmcm9tICJ2dWUtdG9hc3RpZmljYXRpb24iOwp2YXIgdG9hc3QgPSB1c2VUb2FzdCgpOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgVGhlSGVhZGVyOiBUaGVIZWFkZXIsCiAgICBwYXlwYWw6IFBheXBhbAogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIC8vdGhpcy5hbGxJdGVtcyA9IHRoaXMuY2FydDsKICAgIHRoaXMuZ2V0Q2FydCgpOwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFsbEl0ZW1zOiBbXSwKICAgICAgbnVtUHJvZHVjdHM6IDAsCiAgICAgIG1lc3NhZ2U6ICIiCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTsKICAgIHNjcmlwdC5zcmMgPSAiaHR0cHM6Ly93d3cucGF5cGFsLmNvbS9zZGsvanM/Y2xpZW50LWlkPUFSTlJOdmdKVEgwb2FSVXJRVUMtcC1NZ0NYeklPbDVUNnVtNllxZFc3VTlta3d6Vi1aa2ZDdHA5YzBRSDZkUldBckpZODVZaDNyTENUNVZ1IjsKICAgIHNjcmlwdC5hZGRFdmVudExpc3RlbmVyKCJsb2FkIiwgdGhpcy5zZXRMb2FkZWQpOwogICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzY3JpcHQpOwogIH0sCiAgbWV0aG9kczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBBY3Rpb25zKHsKICAgIGF0dGVtcHRJdGVtczogImNhcnQvYXR0ZW1wdEl0ZW1zIiwKICAgIGdldEl0ZW1zOiAiY2FydC9nZXRJdGVtcyIKICB9KSksIHt9LCB7CiAgICAvLy4uLm1hcE11dGF0aW9ucygiY2FydCIsIFsiU0VUX1FVQU5USVRZIl0pLAogICAgLy8uLi5tYXBNdXRhdGlvbnMoImNhcnQiLCBbIkRFTF9JVEVNIl0pLAogICAgZ2V0Q2FydDogZnVuY3Rpb24gZ2V0Q2FydCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuZ2V0SXRlbXMoX3RoaXMudXNlci5faWQpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfdGhpcy5hbGxJdGVtcyA9IF90aGlzLml0ZW1zOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGlkLCBlKSB7CiAgICAgIHRoaXMudG90YWwoKTsKICAgICAgdGhpcy5hbGxJdGVtcyA9IHRoaXMuaXRlbXM7CiAgICAgIC8qCiAgICAgIGNvbnNvbGUubG9nKGlkLCBlLnRhcmdldC52YWx1ZSk7CiAgICAgIGNvbnN0IGNvdW50ID0gZS50YXJnZXQudmFsdWU7CiAgICAgIGlmIChjb3VudCA+IDAgJiYgY291bnQgPD0gMTApIHsKICAgICAgICBjb25zdCBhcnIgPSBbaWQsIGNvdW50XTsKICAgICAgICB0aGlzLlNFVF9RVUFOVElUWShhcnIpOwogICAgICAgIGNvbnNvbGUubG9nKCJjb21wbGV0ZWQiKTsKICAgICAgICB0aGlzLiRzdG9yZQogICAgICAgICAgLmRpc3BhdGNoKCJjYXJ0L3VwZGF0ZUNhcnQiKQogICAgICAgICAgLnRoZW4oKHJlc3VsdCkgPT4gY29uc29sZS5sb2coImRpc3BhdGNoZWQgbWV0aG9zZCIpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBhbGVydCgiaW52YWxpZCBpbnB1dCIpOwogICAgICB9Ki8KICAgIH0sCiAgICBkZWxldGVJdGVtOiBmdW5jdGlvbiBkZWxldGVJdGVtKGlkKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5kZWxldGUoImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvc2hvcHBpbmdfY2FydC9kZWxldGVJdGVtLyIuY29uY2F0KGlkKSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgIHRvYXN0Lndhcm5pbmcoIlByb2R1Y3RvIGJvcnJhZG8gZW4gZWwgY2Fycml0byBjb3JyZWN0YW1lbnRlISIpOwogICAgICAgICAgICAgICAgICByZXR1cm4gcmVzLmRhdGE7CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuZ2V0SXRlbXMoX3RoaXMyLnVzZXIuX2lkKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgX3RoaXMyLmFsbEl0ZW1zID0gX3RoaXMyLml0ZW1zOwogICAgICAgICAgICAgICAgLyoKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJpbiBkZWxldGVkISEiKTsKICAgICAgICAgICAgICAgIHRoaXMuREVMX0lURU0oaWQpOwogICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUKICAgICAgICAgICAgICAgICAgLmRpc3BhdGNoKCJjYXJ0L3VwZGF0ZUNhcnQiKQogICAgICAgICAgICAgICAgICAudGhlbigocmVzdWx0KSA9PiBjb25zb2xlLmxvZygiZGlzcGF0Y2hlZCBtZXRob3NkIikpOwogICAgICAgICAgICAgICAgICAqLwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBjaGVja291dDogZnVuY3Rpb24gY2hlY2tvdXQoKSB7CiAgICAgIC8qCiAgICAgIGNvbnNvbGUubG9nKAogICAgICAgICJpc0F1dGhlbnRpY2F0ZWQiLAogICAgICAgIHRoaXMuJHN0b3JlLmdldHRlcnNbInVzZXIvaXNBdXRoZW50aWNhdGVkIl0KICAgICAgKTsKICAgICAgaWYgKCF0aGlzLiRzdG9yZS5nZXR0ZXJzWyJ1c2VyL2lzQXV0aGVudGljYXRlZCJdKSB7CiAgICAgICAgY29uc29sZS5sb2codGhpcy4kcm91dGUpOwogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgIHBhdGg6ICIvbG9naW4iLAogICAgICAgICAgcXVlcnk6IHsgcmVkaXJlY3RUbzogdGhpcy4kcm91dGUuZnVsbFBhdGggfSwKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb25zb2xlLmxvZygiZG9uZSB3aXRoIGNoZWNrb3V0Iik7CiAgICAgICAgbGV0IG9wID0gY29uZmlybSgiRG8geW91IHdhbnQgdG8gY29udGludWUgPyIpOwogICAgICAgIGlmIChvcCkgewogICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJjYXJ0L1JFU0VUX1NUQVRFIik7CiAgICAgICAgICB0aGlzLiRzdG9yZQogICAgICAgICAgICAuZGlzcGF0Y2goImNhcnQvdXBkYXRlQ2FydCIpCiAgICAgICAgICAgIC50aGVuKChyZXN1bHQpID0+IGNvbnNvbGUubG9nKCJkaXNwYXRjaGVkIG1ldGhvc2QiKSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGFsZXJ0KCJ5b3VyIHB1cmNoYXNlIGlzIG5vdCBjb21wbGV0ZWQhISIpOwogICAgICAgIH0KICAgICAgfQogICAgICAqLwogICAgfQogIH0pLAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoewogICAgYXV0aGVudGljYXRlZDogImF1dGgvYXV0aGVudGljYXRlZCIsCiAgICB1c2VyOiAiYXV0aC91c2VyIiwKICAgIGl0ZW1zOiAiY2FydC9nZXRJdGVtcyIKICB9KSksIHt9LCB7CiAgICAvLy4uLm1hcFN0YXRlKCJjYXJ0IiwgWyJjYXJ0Il0pLAogICAgLy8uLi5tYXBTdGEoJ2NhcnQnLFsnR0VUX1RPVEFMJ10pLAogICAgaXRlbXNOdW06IGZ1bmN0aW9uIGl0ZW1zTnVtKCkgewogICAgICB2YXIgc3VtID0gMDsKCiAgICAgIGlmICh0aGlzLmFsbEl0ZW1zKSB7CiAgICAgICAgdGhpcy5hbGxJdGVtcy5mb3JFYWNoKGZ1bmN0aW9uIChlYWNoKSB7CiAgICAgICAgICBzdW0gPSBzdW0gKyBOdW1iZXIoZWFjaC5xdWFudGl0eSk7CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBzdW07CiAgICB9LAogICAgdG90YWw6IGZ1bmN0aW9uIHRvdGFsKCkgewogICAgICB2YXIgc3VtID0gMDsKCiAgICAgIGlmICh0aGlzLmFsbEl0ZW1zKSB7CiAgICAgICAgdGhpcy5hbGxJdGVtcy5mb3JFYWNoKGZ1bmN0aW9uIChlYWNoKSB7CiAgICAgICAgICBzdW0gPSBzdW0gKyBlYWNoLnByaWNlICogZWFjaC5xdWFudGl0eTsKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgcmV0dXJuIHBhcnNlRmxvYXQoc3VtKS50b0ZpeGVkKDIpOwogICAgfQogIH0pCn07"},{"version":3,"mappings":"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","names":["TheHeader","Paypal","mapActions","mapGetters","mapState","axios","useToast","toast","components","paypal","created","getCart","data","allItems","numProducts","message","mounted","script","document","createElement","src","addEventListener","setLoaded","body","appendChild","methods","attemptItems","getItems","user","_id","items","onChange","id","e","total","deleteItem","delete","then","res","warning","catch","err","console","log","checkout","computed","authenticated","itemsNum","sum","forEach","each","Number","quantity","price","parseFloat","toFixed"],"sourceRoot":"","sources":["/Users/yuoneskabiri/Desktop/UNI/SCE/Practica/e-commerce-vue/src/views/CartPage.vue"],"sourcesContent":["<template>\n  <the-header class=\"shadow-sm\"></the-header>\n  <div class=\"container\">\n    <span v-on:keydown=\"key\">{{ message }}</span>\n    <span class=\"d-flex mb-3 mt-2\"></span>\n\n    <div v-if=\"authenticated\">\n      <div class=\"card\">\n        <table class=\"table cart\">\n          <thead>\n            <tr>\n              <th scope=\"col\" class=\"w-10\">Product ID</th>\n              <th scope=\"col\" class=\"w-50\">Item</th>\n              <th scope=\"col\" class=\"w-10\">Quantity</th>\n              <th scope=\"col\" class=\"w-10\">Price/item</th>\n              <th scope=\"col\" class=\"w-20\"></th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"product in allItems\" :key=\"product._id\">\n              <td>{{ product._id }}</td>\n              <td class=\"d-flex\">\n                <img :src=\"product.image\" />\n                <span>{{ product.name }}</span>\n              </td>\n              <td>\n                <input\n                  type=\"number\"\n                  name=\"\"\n                  id=\"\"\n                  @change=\"onChange(product._id, $event)\"\n                  :value=\"product.quantity\"\n                  size=\"4\"\n                  min=\"1\"\n                  max=\"10\"\n                />\n              </td>\n              <td>\n                <span>{{ parseFloat(product.price).toFixed(2) }}</span>\n              </td>\n              <td>\n                <button class=\"btn btn-danger\" @click=\"deleteItem(product._id)\">\n                  <span class=\"material-symbols-outlined\">\n                    delete_forever\n                  </span>\n                </button>\n              </td>\n            </tr>\n            <tr>\n              <td></td>\n              <td></td>\n              <td>Monto:{{ itemsNum }}</td>\n              <td>Total :{{ total }} â‚¬</td>\n              <td>\n                <button class=\"btn btn-success\" @click=\"checkout\">\n                  Comprar Ahora\n                </button>\n                <paypal :amount=\"total\"></paypal>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n    <div v-else>Debes Loguearte primero.</div>\n  </div>\n</template>\n\n<script>\nimport TheHeader from \"../components/TheHeader.vue\";\nimport Paypal from \"./Paypal\";\n\nimport { mapActions, mapGetters, mapState } from \"vuex\";\nimport axios from \"axios\";\n\n//Toast\nimport { useToast } from \"vue-toastification\";\nconst toast = useToast();\n\nexport default {\n  components: {\n    TheHeader,\n    paypal: Paypal,\n  },\n  created() {\n    //this.allItems = this.cart;\n    this.getCart();\n  },\n  data() {\n    return {\n      allItems: [],\n      numProducts: 0,\n      message: \"\",\n    };\n  },\n  mounted: function () {\n    const script = document.createElement(\"script\");\n    script.src =\n      \"https://www.paypal.com/sdk/js?client-id=ARNRNvgJTH0oaRUrQUC-p-MgCXzIOl5T6um6YqdW7U9mkwzV-ZkfCtp9c0QH6dRWArJY85Yh3rLCT5Vu\";\n    script.addEventListener(\"load\", this.setLoaded);\n    document.body.appendChild(script);\n  },\n  methods: {\n    ...mapActions({\n      attemptItems: \"cart/attemptItems\",\n      getItems: \"cart/getItems\",\n    }),\n    //...mapMutations(\"cart\", [\"SET_QUANTITY\"]),\n    //...mapMutations(\"cart\", [\"DEL_ITEM\"]),\n    async getCart() {\n      await this.getItems(this.user._id);\n      this.allItems = this.items;\n    },\n\n    onChange(id, e) {\n      this.total();\n      this.allItems = this.items;\n      /*\n      console.log(id, e.target.value);\n      const count = e.target.value;\n      if (count > 0 && count <= 10) {\n        const arr = [id, count];\n        this.SET_QUANTITY(arr);\n        console.log(\"completed\");\n        this.$store\n          .dispatch(\"cart/updateCart\")\n          .then((result) => console.log(\"dispatched methosd\"));\n      } else {\n        alert(\"invalid input\");\n      }*/\n    },\n    async deleteItem(id) {\n      await axios\n        .delete(`http://localhost:3000/api/shopping_cart/deleteItem/${id}`)\n        .then((res) => {\n          toast.warning(\"Producto borrado en el carrito correctamente!\");\n          return res.data;\n        })\n        .catch((err) => console.log(err));\n\n      await this.getItems(this.user._id);\n      this.allItems = this.items;\n\n      /*\n      console.log(\"in deleted!!\");\n      this.DEL_ITEM(id);\n      this.$store\n        .dispatch(\"cart/updateCart\")\n        .then((result) => console.log(\"dispatched methosd\"));\n        */\n    },\n    checkout() {\n      /*\n      console.log(\n        \"isAuthenticated\",\n        this.$store.getters[\"user/isAuthenticated\"]\n      );\n      if (!this.$store.getters[\"user/isAuthenticated\"]) {\n        console.log(this.$route);\n        this.$router.push({\n          path: \"/login\",\n          query: { redirectTo: this.$route.fullPath },\n        });\n      } else {\n        console.log(\"done with checkout\");\n        let op = confirm(\"Do you want to continue ?\");\n        if (op) {\n          this.$store.commit(\"cart/RESET_STATE\");\n          this.$store\n            .dispatch(\"cart/updateCart\")\n            .then((result) => console.log(\"dispatched methosd\"));\n        } else {\n          alert(\"your purchase is not completed!!\");\n        }\n      }\n      */\n    },\n  },\n\n  computed: {\n    ...mapGetters({\n      authenticated: \"auth/authenticated\",\n      user: \"auth/user\",\n      items: \"cart/getItems\",\n    }),\n    //...mapState(\"cart\", [\"cart\"]),\n    //...mapSta('cart',['GET_TOTAL']),\n    itemsNum() {\n      let sum = 0;\n      if (this.allItems) {\n        this.allItems.forEach((each) => {\n          sum = sum + Number(each.quantity);\n        });\n      }\n\n      return sum;\n    },\n    total() {\n      let sum = 0;\n      if (this.allItems) {\n        this.allItems.forEach((each) => {\n          sum = sum + each.price * each.quantity;\n        });\n      }\n      return parseFloat(sum).toFixed(2);\n    },\n  },\n};\n</script>\n\n<style scoped>\ntable {\n  text-align: center;\n}\n.card {\n  border: none;\n}\n.cart img {\n  width: 70px;\n  height: 70px;\n}\n\n.card-image {\n  max-height: 200px;\n  padding: 25px;\n}\n.card-text {\n  font-size: 13px;\n}\n.card-title {\n  font-size: 18px;\n  font-weight: 600;\n  max-block-size: 20px;\n  overflow: hidden;\n}\n.card-title:hover {\n  text-decoration: underline;\n  cursor: pointer;\n}\nbutton {\n  display: flex !important;\n  justify-content: center;\n}\n.card:hover {\n  transform: translate(0, -1px);\n}\n.card-body {\n  margin-top: 0px;\n}\n.desc {\n  max-block-size: 40px;\n  overflow: hidden;\n}\n.item2 {\n  flex: 0 0 33%;\n}\n\ninput {\n  border: 1px solid grey;\n  background-color: rgb(255, 255, 255);\n  border-radius: 4px;\n  padding: 4px;\n}\ntr {\n  vertical-align: middle;\n}\n.no-item {\n  margin: auto;\n  font-size: 45px;\n  text-decoration: none;\n}\n</style>\n"]}]}