{"remainingRequest":"/Users/yuoneskabiri/Desktop/Desktop - MacBook Pro de Yuones/UNI/4º/SCE/Practica/e-commerce-vue___/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/yuoneskabiri/Desktop/Desktop - MacBook Pro de Yuones/UNI/4º/SCE/Practica/e-commerce-vue___/src/views/Home.vue?vue&type=style&index=0&id=fae5bece&lang=css","dependencies":[{"path":"/Users/yuoneskabiri/Desktop/Desktop - MacBook Pro de Yuones/UNI/4º/SCE/Practica/e-commerce-vue___/src/views/Home.vue","mtime":1654471289515},{"path":"/Users/yuoneskabiri/Desktop/Desktop - MacBook Pro de Yuones/UNI/4º/SCE/Practica/e-commerce-vue___/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuoneskabiri/Desktop/Desktop - MacBook Pro de Yuones/UNI/4º/SCE/Practica/e-commerce-vue___/node_modules/vue-loader-v16/dist/stylePostLoader.js","mtime":499162500000},{"path":"/Users/yuoneskabiri/Desktop/Desktop - MacBook Pro de Yuones/UNI/4º/SCE/Practica/e-commerce-vue___/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/yuoneskabiri/Desktop/Desktop - MacBook Pro de Yuones/UNI/4º/SCE/Practica/e-commerce-vue___/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuoneskabiri/Desktop/Desktop - MacBook Pro de Yuones/UNI/4º/SCE/Practica/e-commerce-vue___/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CkBpbXBvcnQgIi4uL2Fzc2V0cy9jc3MvaG9tZS5jc3MiOwo="},{"version":3,"sources":["/Users/yuoneskabiri/Desktop/Desktop - MacBook Pro de Yuones/UNI/4º/SCE/Practica/e-commerce-vue___/src/views/Home.vue"],"names":[],"mappings":";AACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC","file":"/Users/yuoneskabiri/Desktop/Desktop - MacBook Pro de Yuones/UNI/4º/SCE/Practica/e-commerce-vue___/src/views/Home.vue","sourceRoot":"","sourcesContent":["<style>\n@import \"../assets/css/home.css\";\n</style>\n\n<template>\n  <the-header class=\"shadow-sm\"></the-header>\n\n  <!-- Contents -->\n  <div class=\"container d-md-flex align-items-stretch\" style=\"height: 100vh\">\n    <div class=\"row py-3\">\n      <!-- Sidebar de Categorías -->\n      <div class=\"col-sm-12 col-md-2\">\n        <div class=\"sticky-top pt-3\">\n          <div class=\"nav flex-column\">\n            <div class=\"section\">\n              <!-- Sección Precios -->\n              <p class=\"sidebar-title\">Precios</p>\n              <input\n                type=\"range\"\n                min=\"0\"\n                max=\"50\"\n                class=\"form-range\"\n                id=\"customRange1\"\n                v-model=\"price\"\n                v-on:input=\"loadAllProductsPrice\"\n              />\n              {{ price }}$\n            </div>\n            <!-- Fin  Sección Precios -->\n\n            <div class=\"section\">\n              <!-- Sección Categorías -->\n              <p class=\"sidebar-title\">Categorías</p>\n              <div class=\"tagcloud\">\n                <a\n                  class=\"tag-cloud-link\"\n                  v-for=\"item in categoryList\"\n                  :key=\"item\"\n                  @click=\"filteredItems(item)\"\n                >\n                  {{ item }}\n                </a>\n              </div>\n            </div>\n            <!-- Fin Sección Categorías -->\n\n            <div class=\"section\">\n              <!-- Sección Ciudades -->\n              <p class=\"sidebar-title\">Ciudades</p>\n              <div class=\"tagcloud\">\n                <a\n                  class=\"tag-cloud-link\"\n                  v-for=\"item in citylist\"\n                  :key=\"item\"\n                  @click=\"filteredItemsCity(item)\"\n                >\n                  {{ item }}\n                </a>\n              </div>\n            </div>\n            <!-- Fin Sección Categorías -->\n          </div>\n        </div>\n      </div>\n      <!-- FIN Sidebar de Categorías -->\n\n      <!-- Listado de Productos -->\n      <div class=\"col-sm-12 col-md-10\" id=\"main\">\n        <div class=\"row pt-3\">\n          <div\n            class=\"col-sm-2 col-md-4 col-lg-3\"\n            v-for=\"product in ProductList\"\n            :key=\"product.id\"\n          >\n            <div class=\"card\">\n              <p class=\"text-left position-absolute top-0 tag\">\n                {{ product.price }} $\n              </p>\n              <p class=\"text-left position-absolute top-50 end-0 city\">\n                {{ product.city }}\n              </p>\n              <img\n                class=\"card-img-top card-image\"\n                :src=\"product.image\"\n                alt=\"Card image cap\"\n              />\n              <div class=\"card-body\">\n                <p class=\"text-success\">{{ product.category }}</p>\n                <h5 class=\"card-title\" @click=\"productDetails(product._id)\">\n                  {{ product.name }}\n                </h5>\n                <p class=\"card-text\">{{ product.description }}</p>\n                <div\n                  class=\"d-grid gap-2 gap-md-1 d-md-flex justify-content-lg-end\"\n                >\n                  <div v-if=\"authenticated\">\n                    <button\n                      class=\"btn btn-primary btn-sm justify-content-center\"\n                      type=\"button\"\n                      @click=\"addToCart(product)\"\n                    >\n                      Añadir<span class=\"material-symbols-outlined\"\n                        >add_shopping_cart</span\n                      >\n                    </button>\n                  </div>\n\n                  <button\n                    class=\"btn btn-warning btn-sm\"\n                    type=\"button\"\n                    @click=\"productDetails(product._id)\"\n                  >\n                    Detalles\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <!-- Fin Listado de Productos -->\n    </div>\n    <!-- Fin Row -->\n  </div>\n  <!-- Fin Contents -->\n</template>\n\n<script>\nimport ItemCard from \"../components/ItemCard.vue\";\nimport TheHeader from \"../components/TheHeader.vue\";\nimport TheFooter from \"../components/TheFooter.vue\";\nimport { mapActions, mapGetters, mapState } from \"vuex\";\nimport axios from \"axios\";\n\n//Toast\nimport { useToast } from \"vue-toastification\";\nconst toast = useToast();\n\nexport default {\n  props: [\"product\"],\n  components: {\n    ItemCard,\n    TheHeader,\n    TheFooter,\n  },\n  data() {\n    return {\n      price: 0.0,\n      categoryList: [],\n      citylist: [],\n      ProductList: [],\n      allProducts: [],\n    };\n  },\n  created() {\n    this.loadCategories();\n    this.loadAllProducts();\n    this.loadCities();\n  },\n\n  methods: {\n    loadCategories() {\n      fetch(\"http://localhost:3000/api/categorys\")\n        .then((res) => res.json())\n        .then((json) => (this.categoryList = json));\n    },\n    loadCities() {\n      fetch(\"http://localhost:3000/api/categorys/citys\")\n        .then((res) => res.json())\n        .then((json) => {\n          console.log(\".-.-.>>>\", (this.citylist = json));\n        });\n    },\n    loadAllProducts() {\n      fetch(\"http://localhost:3000/api/products\")\n        .then((res) => res.json())\n        .then((json) => {\n          this.ProductList = json;\n          this.allProducts = json;\n        });\n    },\n    loadAllProductsPrice() {\n      fetch(`http://localhost:3000/api/products/price/${this.price}`)\n        .then((res) => res.json())\n        .then((json) => {\n          this.ProductList = json;\n          this.allProducts = json;\n        });\n    },\n    filteredItems(category) {\n      const filteredItems = this.allProducts.filter((item) => {\n        return item.category == category;\n      });\n      this.ProductList = filteredItems;\n    },\n    filteredItemsCity(city) {\n      const filteredItems = this.allProducts.filter((item) => {\n        return item.city == city;\n      });\n      this.ProductList = filteredItems;\n    },\n    productDetails(_id) {\n      //Todo: refrech\n      this.$router.push(`/details/${_id}`);\n    },\n\n    async addToCart(item) {\n      toast.info(`${item.name} se agrego al carrito!!`);\n\n      const r_product = {\n        id_user: this.user._id,\n        id_product: item._id,\n        name: item.name,\n        image: item.image,\n        price: item.price,\n        quantity: 1,\n        category: item.category,\n      };\n\n      const resp = await axios\n        .post(\"http://localhost:3000/api/shopping_cart/createItem\", r_product, {\n          headers: {\n            authorization: \"Bearer \" + this.token,\n          },\n        })\n        .then((res) => {\n          console.log(res);\n        })\n        .catch((err) => console.log(err));\n    },\n  },\n  computed: {\n    ...mapGetters({\n      authenticated: \"auth/authenticated\",\n      user: \"auth/user\",\n      token: \"auth/token\",\n    }),\n  },\n};\n</script>\n\n<style>\nbody {\n  background-color: #eeeeee !important;\n}\n\n.section {\n  background-color: white;\n  background-color: white;\n  padding: 10px;\n  margin: 10px;\n  margin-left: 0px;\n  margin-right: 0px;\n  box-shadow: rgb(0 0 0 / 12%) 0px 1px 3px, rgb(0 0 0 / 24%) 0px 1px 2px;\n  border: 1px solid rgba(0, 0, 0, 0.125);\n  border-radius: 0.25rem;\n}\n\n.side {\n  min-width: 250px;\n}\n.btn {\n  font-size: 12px !important;\n}\n.card {\n  margin: 10px 0px !important;\n  height: 470px;\n  box-shadow: rgb(0 0 0 / 12%) 0px 1px 3px, rgb(0 0 0 / 24%) 0px 1px 2px;\n  border: none;\n}\n.card-title {\n  max-block-size: initial;\n  overflow: hidden;\n  block-size: 45px;\n  margin: 0px auto 5px auto !important;\n}\n.card-text {\n  block-size: 49px;\n  overflow: hidden;\n  font-size: 11px !important;\n  line-height: 12px;\n  margin-bottom: 15px;\n}\n.card-image {\n  height: 250px;\n  padding: 0px !important;\n}\n.tag {\n  background-color: #009688;\n  color: white;\n  padding: 2px 7px;\n  margin: 5px;\n  font-weight: bold;\n  border-radius: 5px;\n}\n.city {\n  box-shadow: rgba(0, 0, 0, 0.1) 0px 0px 5px 0px,\n    rgba(0, 0, 0, 0.1) 0px 0px 1px 0px;\n  background-color: black;\n  margin-top: -5.5px;\n  padding: 1px 8px;\n  font-size: 13px;\n  color: white;\n}\n\n.material-symbols-outlined {\n  font-size: 15px;\n  padding-top: 4px;\n  padding-left: 4px;\n}\n\n.tagcloud a {\n  text-transform: uppercase;\n  display: inline-block;\n  padding: 4px 10px;\n  margin-bottom: 7px;\n  margin-right: 4px;\n  border-radius: 4px;\n  color: #000;\n  border: 1px solid #ccc;\n  font-size: 11px;\n  text-decoration: none;\n}\n\n.tagcloud a:hover {\n  border-color: #009688;\n  background: #009688;\n  color: #fff;\n  cursor: pointer;\n}\n\n/** HOVER **/\n\n.card:hover {\n  box-shadow: rgba(0, 0, 0, 0.09) 0px 2px 1px, rgba(0, 0, 0, 0.09) 0px 4px 2px,\n    rgba(0, 0, 0, 0.09) 0px 8px 4px, rgba(0, 0, 0, 0.09) 0px 16px 8px,\n    rgba(0, 0, 0, 0.09) 0px 32px 16px !important;\n  border: 0px !important;\n}\n\n/** RESPONSIVE **/\n@media (max-width: 700px) {\n  .card {\n    height: 520px;\n  }\n}\n</style>\n"]}]}